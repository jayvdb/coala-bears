[all]
language = python 3

shellcheck_ignore = SC2046, SC2154, SC2155
body_enforce_issue_reference = False
max_line_length = 80
use_spaces = True

ignore = **/*test_files/**,
  infer-out/**,
  *.class,
  .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  node_modules/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  prof/**,
  .pytest_cache/**,
  **/__pycache__/**,
  *.egg-info/**,
  docs/_build/**,
  docs/make.bat

[all.whitespace]
files = **
bears = SpaceConsistencyBear

ignore = **/*test_files/**,
  infer-out/**,
  *.class,
  .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  node_modules/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  prof/**,
  .pytest_cache/**,
  **/__pycache__/**,
  *.egg-info/**,
  docs/_build/**,
  docs/make.bat,
  tests/c_languages/codeclone_detection/clone_detection_samples/stdint.h,
  **/Makefile*

[all.quotes]
files = **
bears = QuotesBear

preferred_quotation = '

default_actions = QuotesBear: ApplyPatchAction

# " and ' are not interchangable for shell scripts, C or Java
ignore = **/*test_files/**,
  infer-out/**,
  *.class,
  .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  node_modules/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  prof/**,
  .pytest_cache/**,
  **/__pycache__/**,
  *.egg-info/**,
  docs/_build/**,
  docs/make.bat,
  .ci/adjust_version_number.py,
  package.json,
  package-lock.json,
  .travis.yml,
  .moban.dt/Gemfile.jj2,
  .moban.dt/package.json.jj2,
  Gemfile,
  **.sh,
  **/Makefile*,
  Dockerfile,
  **.c,
  **.h,
  **.java,
  **.md,
  **.xml,
  **.html,
  **.less,
  LICENSE,
  **.toml,  # our netlify.toml should use single quotes
  .ci/appveyor.yml,  #  our AppVeyor files should use single quotes
  .ci/run_with_env.cmd,
  .gitignore,
  .coafile

[all.yaml]
files = **.yml, **.yaml
bears = YAMLLintBear

[all.shell]
files = **.sh
bears = ShellCheckBear
shell = bash

[all.markdown]
files = **.md
bears = MarkdownBear
bullets = -

[all.json]
files = **.json
bears = JSONFormatBear
indent_size = 2

[all.html]
files = **.html
bears = HTMLLintBear
htmllint_ignore = optional

[all.jinja2]
bears = Jinja2Bear
files = **.jj2


[all.rst]
files = **.rst
bear = RSTcheckBear

[all.rst.readme]
files = README.rst
bears = reSTLintBear

[all.PythonPackageInit]
bears = PythonPackageInitBear
ignore += *.py

[all.python]
files = **.py, **.py.in

ignore = **/*test_files/**,
  infer-out/**,
  *.class,
  .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  node_modules/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  prof/**,
  .pytest_cache/**,
  **/__pycache__/**,
  *.egg-info/**,
  docs/_build/**,
  docs/make.bat,
  docs/conf.py

[all.python.flakes]
bears = PyUnusedCodeBear

default_actions = PyUnusedCodeBear: ApplyPatchAction

[all.python.autopep8]
# Patches may conflict with autopep8 so putting them in own section so they
# will be executed sequentially; also we need the LineLengthBear to double
# check the line length because PEP8Bear sometimes isn't able to correct the
# linelength.
bears = PEP8Bear, PycodestyleBear

default_actions = PEP8Bear: ApplyPatchAction

[all.python.urllib]
# Encourage usage of requests library by blacklisting usage of urlopen()
bears = KeywordBear
keywords = urlopen

[all.css]
bears = CSSLintBear
files = **.css


# Sometimes fixers (e.g. autopep8) makes too long lines, need to check after!
[all.linelength]
bears = LineLengthBear
ignore_length_regex = ^.*https?://

[all.links]
bears = InvalidLinkBear


[all.commit]
bears = GitCommitBear
shortlog_trailing_period = False
shortlog_regex = ([^:]*|[^:]+: [A-Z0-9*].*)
body_close_issue = True
body_close_issue_full_url = True
body_close_issue_on_last_line = True
