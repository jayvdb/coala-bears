[all]
language = python

max_line_length = 79
shellcheck_ignore = SC2046, SC2154, SC2155
body_enforce_issue_reference = False
use_spaces = True

ignore = .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**

[all.whitespace]
files = **
bears = SpaceConsistencyBear

ignore = .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  **/*test_files/**,
  **/Makefile*

[all.quotes]
files = **
bears = QuotesBear

preferred_quotation = '

default_actions = QuotesBear: ApplyPatchAction

# " and ' are not interchangable for shell scripts
ignore = .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  .ci/adjust_version_number.py,
  **/*test_files/**,
  package.json,
  package-lock.json,
  .travis.yml,
  .moban.dt/Gemfile.jj2,
  .moban.dt/package.json.jj2,
  Gemfile,
  **.c,
  **.h,
  **.sh,
  **/Makefile*,
  Dockerfile,
  **.md,
  **..xml,
  **.html,
  **.less,
  LICENSE,
  **.toml,  # our netlify.toml should use single quotes
  .ci/appveyor.yml,  #  our AppVeyor files should use single quotes
  .ci/run_with_env.cmd,
  .gitignore,
  .coafile

[all.yaml]
files = **.yml, **.yaml
bears = YAMLLintBear

[all.shell]
files = **.sh
bears = ShellCheckBear
shell = bash

[all.markdown]
files = **.md
bears = MarkdownBear
bullets = -

[all.json]
files = **.json
bears = JSONFormatBear
indent_size = 2

[all.html]
files = **.html
bears = HTMLLintBear
htmllint_ignore = optional

[all.jinja2]
bears = Jinja2Bear
files = **.jj2


[all.rst]
bear = reSTLintBear
files = **.rst

[all.PythonPackageInit]
bears = PythonPackageInitBear
ignore += *.py

[all.python]
files = **.py, **.py.in

ignore = .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  tests/python/test_files/pylint_test.py,
  tests/python/bandit_test_files/*,,
  tests/python/vulture_test_files/*,,
  docs/conf.py

[all.python.flakes]
bears = PyUnusedCodeBear

default_actions = PyUnusedCodeBear: ApplyPatchAction

[all.python.autopep8]
# Patches may conflict with autopep8 so putting them in own section so they
# will be executed sequentially; also we need the LineLengthBear to double
# check the line length because PEP8Bear sometimes isn't able to correct the
# linelength.
bears = PEP8Bear, PycodestyleBear

default_actions = PEP8Bear: ApplyPatchAction

[all.python.code duplication and complexity]
bears = RadonBear

ignore = .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  **.py.in

# Sometimes fixers (e.g. autopep8) makes too long lines, need to check after!
[all.linelength]
bears = LineLengthBear
ignore_length_regex = ^.*https?://

[all.links]
bears = InvalidLinkBear

ignore = .git/**,
  dist/**,
  tmp/**,
  vendor/**,
  env/**,
  venv/**,
  .env/**,
  .tox/**,
  **/*test_files/**

[all.commit]
bears = GitCommitBear
shortlog_trailing_period = False
shortlog_regex = ([^:]*|[^:]+: [A-Z0-9*].*)
body_close_issue = True
body_close_issue_full_url = True
body_close_issue_on_last_line = True
